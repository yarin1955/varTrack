syntax = "proto3";

package vartrack.v1;

// SecretRef represents a value that can be provided inline or resolved
// from an external secret manager at runtime.
//
// In CUE users write the shorthand:
//   token: "ghp_abc123"                                   // inline
//   token: { path: "ci/github", key: "token" }            // external
//
// The CUE schema normalizes this to the proto wire format:
//   token: { value: "ghp_abc123" }
//   token: { ref: { path: "ci/github", key: "token" } }
message SecretRef {
  oneof source {
    string value = 1;
    ExternalRef ref = 2;
  }
}

message ExternalRef {
  string path = 1;
  string key = 2;
}
