syntax = "proto3";

package vartrack.v1;

import "buf/validate/validate.proto";

message GitHubSettings {
  string name = 1 [(buf.validate.field).string.const = "github"];
  string endpoint = 2 [(buf.validate.field).string.uri = true];

  // FIXED: Corrected 'in' list syntax
  string protocol = 3 [(buf.validate.field).string = {in: ["ssh", "http", "https"]}];

  optional string token = 4;
  optional string username = 5;
  optional string password = 6;
  optional string secret = 7;

  optional string org_name = 8;
  bool verify_ssl = 9; // FIXED: Removed illegal proto3 default
  int32 timeout = 10 [(buf.validate.field).int32.gte = 1];
  int32 max_retries = 11 [(buf.validate.field).int32.gte = 0];

  // FIXED: Changed 'le' to 'lte'
  int32 page_size = 12 [(buf.validate.field).int32 = {gte: 1, lte: 100}];
}